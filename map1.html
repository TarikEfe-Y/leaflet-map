<html>
  <head>
    <title>uMap Tıklama ile Marker Ekleme</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css"/>
    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
    <script src="https://unpkg.com/leaflet-umap/umap.js"></script>
  </head>
  <body>
    <div id="mapid" style="height: 600px;"></div>
    <script>
      // Haritayı başlatıyoruz
      var map = L.map('mapid').setView([39.9255, 32.8663], 13); // Ankara koordinatları

      // OpenStreetMap Tiles kullanıyoruz
      L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
        attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
      }).addTo(map);

      // Harita üzerine tıklama ile marker ekleme
      map.on('click', function(e) {
        var lat = e.latlng.lat;
        var lon = e.latlng.lng;

        // Tıklanan yere marker ekliyoruz
        L.marker([lat, lon]).addTo(map)
          .bindPopup("Koordinatlar: " + lat + ", " + lon)
          .openPopup();
      });
    </script>
  </body>
</html>
